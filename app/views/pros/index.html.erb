<div class="container container-transparent-navbar">
  <div class="my-4 text-center">
    <h3 class="mb-10 ">Discover all our professionnal divers</h3>
    <div class="search d-grid gap-2 d-md-flex justify-content-center">
          <%= form_tag pros_path, method: :get, class: "d-flex" do %>
            <%= text_field_tag :query,
              params[:query],
              class: "form-control",
              placeholder: "Search for a pro"
            %>
          <button name="button" type="submit" class="btn btn-primary">
          <i class="fas fa-search"></i>
        </button>
          <% end %>
      </div>
    </div>
    <div style="width: 100%; height: 600px;"
  data-controller="map"
  data-map-markers-value="<%= @markers.to_json %>"
  data-map-api-key-value="<%= ENV['MAPBOX_API_KEY'] %>">
  </div>

  <div class="cards mb-4">
    <% @pros.each do |p| %>
      <%= link_to pro_path(p) do %>
        <div class="card-pro">
          <%= cl_image_tag p.avatar.key if p.avatar.present? %>
          <div class="card-infos font-weight-light">
            <div>
              <h2><%= p.first_name %> <%= p.last_name[0].capitalize%>.</h2>
                <p><%= truncate p.bio, length: 160 %> </p>
              </div>
          </div>
        </div>
      <% end %>
    <% end %>
  </div>
</div>
