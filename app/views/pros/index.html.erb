<%# BANNER  %>

<div class="banner-show-pro">
<div class="container container-transparent-navbar">
  <div class="my-4 text-center">
    <h3 class="mb-10 ">Discover all our professionnal divers</h3>
    <div class="search d-grid gap-2 d-md-flex justify-content-center w-25 m-auto">
          <%= form_tag pros_path, method: :get, class: "d-flex" do %>
            <%= text_field_tag :query,
              params[:query],
              class: "form-control",
              placeholder: "Search for a pro"
            %>
          <button name="button" type="submit" class="btn btn-primary">
            <i class="fas fa-search"></i>
          </button>
          <% end %>
      </div>
    </div>
  </div>
</div>

<%# FILTRES + CARDS PROS %>

<div class="container">
  <a class="btn btn-filter" href="#" role="button">Latest</a>
  <button class="btn btn-filter" type="submit">Popular</button>
  <div class="cards mb-4">
    <% @pros.each do |p| %>
      <%= link_to pro_path(p) do %>
        <div class="card-pro">
          <%= cl_image_tag p.avatar.key if p.avatar.present? %>
          <div class="card-infos font-weight-light">
            <div>
              <h2><%= p.first_name %> <%= p.last_name[0].capitalize%>.</h2>
              <h6><i class="fa-solid fa-location-pin"></i> </h6>
                <p><%= truncate p.bio, length: 100 %> </p>
                <p><%= p.location %></p>
              </div>
          </div>
        </div>
      <% end %>
    <% end %>
    </div>
  </div>
</div>

<%# LA MAP %>

<div style="width: 100%; height: 200px; margin-left-30"
      data-controller="map"
      data-map-markers-value="<%= @markers.to_json %>"
      data-map-api-key-value="<%= ENV['MAPBOX_API_KEY'] %>">
</div>
